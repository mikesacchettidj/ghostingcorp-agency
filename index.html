<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GHOSTING CORPORATION</title>
  <meta name="description" content="Ghosting Corporation — international artist agency shaping the future of underground electronic music." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0C0C0C; --text:#F1F1F1; --muted:#B7B7B7; --pill-br:#9A9A9A; --panel-pad:28px; }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%; overflow-x:hidden;}
    body{
      background:var(--bg);color:var(--text);font-family:'IBM Plex Sans',sans-serif;
      display:flex;flex-direction:column;transition:background .4s ease,color .4s ease
    }
    /* Lock scroll en home (desktop) */
    body:not(.panel-open):not(.epk-open){overflow:hidden}
    @media (min-width:901px){
      body:not(.panel-open):not(.epk-open){overflow:hidden;}
    }

    .header{display:flex;justify-content:space-between;align-items:flex-start;padding:20px var(--panel-pad);position:relative;z-index:10}
    .brand-block{display:flex;flex-direction:column;gap:6px}
    .brand{font-weight:400;font-size:44px;letter-spacing:1.2px;text-transform:uppercase;white-space:nowrap;cursor:pointer}
    .brand span{display:inline-block;transition:transform .25s ease}
    .brand:hover span:nth-child(odd){transform:translateY(-2px)}
    .brand:hover span:nth-child(even){transform:translateY(1px)}
    .subnav{display:flex;gap:18px}
    .subnav a{font-size:11px;line-height:1;text-transform:lowercase;letter-spacing:.8px;color:var(--text);text-decoration:none;border-bottom:1px solid transparent;opacity:.8;transition:opacity .2s ease,border-color .2s ease}
    .subnav a:hover{opacity:1;border-color:var(--text)}
    body.panel-open .subnav,
    body.epk-open .subnav{ display:none; }
    body.epk-open .hero-inner{opacity:0; transform:translateY(28px);}

    .back{color:currentColor;text-decoration:none;display:inline-block;font-size:12px;letter-spacing:1px;text-transform:uppercase;opacity:.75;border-bottom:1px solid transparent;transform:translateX(0);transition:opacity .2s ease, border-color .2s ease, transform .25s ease}
    .back:hover{opacity:1;border-color:currentColor;transform:translateX(-3px)}
    .back:focus-visible{outline:1px dotted currentColor;outline-offset:3px}

    .right{display:flex;align-items:center;gap:18px}
    .motto{font:12px/1.3 'IBM Plex Sans',sans-serif;color:var(--muted);text-transform:uppercase;text-align:right;letter-spacing:1.2px}
    .btn{border:1px solid var(--pill-br);padding:8px 18px;border-radius:999px;background:transparent;font:12px/1 'IBM Plex Sans',sans-serif;text-transform:uppercase;color:var(--text);transition:.3s}
    .btn:hover{background:var(--text);color:var(--bg)}

    .hero{
      position:relative;
      min-height:calc(100vh - 104px);
      display:flex;
      align-items:flex-end;
      overflow:hidden;
      z-index:1;
    }
    @supports (height: 100svh){
      .hero{ min-height:calc(100svh - 104px); }
    }

    .hero-inner{
      cursor:default;width:100%;padding:0 var(--panel-pad) 28px;
      padding-bottom: calc(28px + env(safe-area-inset-bottom));
      animation:fadeUp 1.8s ease both;transition:transform .35s ease, opacity .35s ease
    }
    .headline{width:100%;max-width:none;text-transform:uppercase;font-weight:300;font-size:28px;line-height:1.25;letter-spacing:1px;word-spacing:16px}
    .headline .w{display:inline-block;opacity:0;transform:translateY(6px);animation:st .8s ease forwards;transition:transform .25s ease;will-change:transform}
    .hero-inner.active .w:nth-child(odd){transform:translateY(-3px) !important}
    .hero-inner.active .w:nth-child(even){transform:translateY(2px) !important}
    @media (prefers-reduced-motion: reduce){.hero-inner.active .w{transform:none !important;transition:none !important}}

    /* Panels */
    .panels{position:fixed;inset:0;pointer-events:none;z-index:999}
    body.panel-open .panels{pointer-events:auto;}
    .panel{position:absolute;inset:0;display:none;padding:80px var(--panel-pad) var(--panel-pad);}    
    .panel h2{font-size:12px;letter-spacing:1px;text-transform:uppercase;margin-bottom:18px;opacity:.7}
    .panel .list{display:flex;flex-direction:column;gap:10px}
    .panel .list a{font-size:24px;text-decoration:none;color:currentColor;opacity:.9;transition:transform .2s ease,opacity .2s ease;position:relative;display:inline-block;cursor:pointer}
    .panel .list a::after{content:"";position:absolute;left:0;right:0;bottom:-2px;height:1px;background:currentColor;transform:scaleX(0);transform-origin:50% 50%;transition:transform .25s ease,opacity .2s ease;opacity:.6}
    .panel .list a:hover::after{transform:scaleX(1);opacity:1}
    .panel .list a[aria-disabled="true"]{cursor:default;opacity:.7}
    .panel .list a[aria-disabled="true"]:hover::after{transform:none;opacity:.4}
    .soon-note{margin-top:8px;font-size:12px;opacity:.6;letter-spacing:.2px}

    /* Invert scheme when any panel open */
    body.panel-open{--bg:#F5F5F5; --text:#0C0C0C; --muted:#5E5E5E; --pill-br:#2A2A2A}
    body.panel-open .hero-inner{transform:translateY(28px);opacity:0}
    body.panel-open .panel{display:none;pointer-events:auto}
    body.panel-open .panel:not([hidden]){display:block}
    body.panel-open .panel .list a{animation:revealY .4s ease both}
    body.panel-open .panel .list a:nth-child(1){animation-delay:.06s}
    body.panel-open .panel .list a:nth-child(2){animation-delay:.12s}
    body.panel-open .panel .list a:nth-child(3){animation-delay:.18s}
    body.panel-open .panel .list a:nth-child(4){animation-delay:.24s}

    .panel--artists{background:var(--bg);color:var(--text)}
    .panel--label{background:var(--bg);color:var(--text)}
    .panel--contact{background:var(--bg);color:var(--text)}

    /* EPK overlay */
    .epk{position:fixed;inset:0;background:var(--bg);color:var(--text);display:none;overflow:auto;padding:80px var(--panel-pad) var(--panel-pad);z-index:1000}
    .epk.open{display:block}
    .epk .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}
    .epk .title{font-size:28px;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:0 auto}
    .epk .close{font-size:12px;text-transform:uppercase;border:1px solid var(--pill-br);padding:6px 10px;border-radius:999px;background:transparent;color:currentColor;cursor:pointer}
    .epk section{margin:18px 0}
    .epk h3{font-size:12px;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px;opacity:.7}
    #epk-bio { text-transform: none; font-size: 14px; line-height: 1.6; }
    #epk-bio b { font-weight: 600; }
    .epk .media{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;gap:16px;align-items:start}
    .epk .media .video{grid-column:1;grid-row:1}
    .epk .media .photo{grid-column:2;grid-row:1}
    .epk .media .player{grid-column:1;grid-row:2}
    .epk .photo .ph{position:relative;overflow:hidden;height:240px;border:1px solid var(--pill-br);border-radius:6px}
    .epk .photo .ph img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center}
    .epk .photo img{display:block;width:100%;height:240px;object-fit:cover;border:1px solid var(--pill-br);}
    .epk a{color:inherit;text-decoration:none;border-bottom:1px solid transparent;opacity:.9;transition:opacity .2s ease,border-color .2s ease}
    .epk a:hover{opacity:1;border-color:currentColor}

    .toast{
      position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
      background:rgba(0,0,0,.8);color:#fff;border:1px solid rgba(255,255,255,.2);
      padding:8px 12px;border-radius:999px;font-size:12px;letter-spacing:.4px;
      opacity:0;transition:opacity .25s ease, transform .25s ease;z-index:9999;pointer-events:none
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

    @keyframes fadeUp {from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}
    @keyframes st {to{opacity:1;transform:none}}
    @keyframes revealY {from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

    /* ====== MOBILE ONLY (quirúrgico) ====== */
    @media (max-width:900px){
      /* 1) Permitir scroll en home móvil */
      body:not(.panel-open):not(.epk-open){overflow:auto;}

      /* HEADER */
      .header{flex-wrap:wrap; gap:10px; align-items:flex-start;}
      .brand{font-size:30px; white-space:normal; line-height:1.1;}
      .subnav{margin-top:4px;}

      /* Reubicar tagline + botón debajo del brand */
      .right{width:100%; display:flex; flex-direction:column; align-items:flex-start; gap:10px;}
      .motto{font-size:11px; max-width:100%; text-align:left;}
      .btn{padding:8px 12px;}

      /* HERO */
      .headline{font-size:18px; word-spacing:6px; line-height:1.22;}
      .hero{ overflow:visible; min-height:auto; padding-top:64px; }
      .hero-inner{ padding:0 var(--panel-pad) calc(36px + env(safe-area-inset-bottom)); }

      /* EPK: 1 columna + medios fluidos */
      /* EPK: stack en móvil (Foto → Video → Player) */
      .epk .media{
       display:flex;            /* en lugar de grid */
       flex-direction:column;
       gap:16px;
        }

/* Orden explícito */
      .epk .media .photo{ order:1; }
      .epk .media .video{ order:2; }
      .epk .media .player{ order:3; }

/* Anular posiciones de grid heredadas (evita solapes VIDEO/PHOTO) */
      .epk .media .video,
      .epk .media .photo,
      .epk .media .player{
       grid-column:auto !important;
       grid-row:auto !important;
       }
/* Medios fluidos sin recortes */
.epk .photo .ph{ height:auto; }
.epk .photo img{ width:100%; height:auto; display:block; }
.epk .media iframe{ width:100% !important; height:240px; display:block; border:0; }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="brand-block">
      <div class="brand" id="brand">GHOSTING CORPORATION</div>
      <nav class="subnav">
        <a href="#" data-route="artists">artists</a>
        <a href="#" data-route="label">label</a>
        <a href="#" data-route="contact">contact</a>
      </nav>
    </div>
    <div class="right">
      <div class="motto">BUILDING BRIDGES BETWEEN ARTISTS, CURATORS, AND CULTURE</div>
      <a class="btn" href="mailto:hey@ghostingcorp-agency.com?subject=Collaboration%20Inquiry&body=Hi%20Ghosting%20Corp,%20I%E2%80%99d%20like%20to%20collaborate...">COLLABORATE WITH US</a>
    </div>
  </header>

  <section class="hero" aria-labelledby="h1">
    <div class="hero-inner">
      <h1 id="h1" class="headline">FOUNDED IN LATE 2024 IN BERLIN, WE ARE AN INTERNATIONAL ARTIST AGENCY, LABEL &amp; EVENT SERIES COMMITED TO SUPPORT EMERGING ELECTRONIC MUSIC ARTISTS. OUR MISSION IS TO EMPOWER THEM TO REACH THEIR FULL CREATIVE POTENTIAL WHILE CONNECTING THEM WITH AUDIENCES AND COMMUNITIES WORLDWIDE. WE COLLABORATE WITH BOTH NEW AND PROMISING TALENTS, PROVIDING GUIDANCE, STRATEGY, AND OPPORTUNITIES TO GROW THEIR IMPACT. BEYOND BOOKINGS, WE CRAFT EXPERIENCES THAT MERGE SOUND, PERSONALITY AND IDENTITY. ROOTED IN CULTURE AND DRIVEN BY PASSION, WE WORK TO BUILD SUSTAINABLE CAREERS AND MEANINGFUL CONNECTIONS. MORE THAN FOLLOWING TRENDS, WE AIM TO CREATE LASTING MOMENTS THAT RESONATE.</h1>
    </div>
  </section>

  <!-- Panels -->
  <div class="panels" aria-live="polite">
    <div class="panel panel--artists" id="panel-artists" hidden>
      <a href="#" class="back" data-back>←</a>
      <h2>Artists</h2>
      <div class="list" id="artists-list">
        <a href="#" data-artist="david-meyer" aria-disabled="true" data-soon="true">David Meyer</a>
        <a href="#" data-artist="ludviq" aria-disabled="true" data-soon="true">Ludviq</a>
        <a href="#" data-artist="mike-sacchetti" data-ready="true">Mike Sacchetti</a>
        <a href="#" data-artist="silenzi" aria-disabled="true" data-soon="true">Silenzi</a>
        <a href="#" data-artist="sounds-of-porn" aria-disabled="true" data-soon="true">Sounds Of Porn</a>
        <div class="soon-note">More to be announced · page under construction</div>
      </div>
    </div>
    <div class="panel panel--label" id="panel-label" hidden>
      <a href="#" class="back" data-back>←</a>
      <h2>Label</h2>
      <div class="list">
        <a href="https://instagram.com/ghosting.corporation" target="_blank" rel="noopener">Instagram</a>
        <a href="https://soundcloud.com/ghostingcorporation" target="_blank" rel="noopener">SoundCloud</a>
        <a href="https://ghostingcorporation.bandcamp.com/" target="_blank" rel="noopener">Bandcamp</a>
      </div>
    </div>
    <div class="panel panel--contact" id="panel-contact" hidden>
      <a href="#" class="back" data-back>←</a>
      <h2>Contact</h2>
      <div class="list">
        <div>Address: Ebertystrasse, 4. 10249 Berlin</div>
        <a href="mailto:hey@ghostingcorp-agency.com?utm_source=site&utm_medium=epk&utm_campaign=contact">hey@ghostingcorp-agency.com</a>
      </div>
    </div>
  </div>

  <!-- EPK overlay -->
  <article class="epk" id="epk" role="dialog" aria-modal="true" aria-labelledby="epk-title">
    <div class="top">
      <a href="#" class="back" id="epk-back">←</a>
      <div class="title" id="epk-title">Artist Name — Tagline</div>
      <button class="close" id="epk-close">Close</button>
    </div>
    <section class="media">
      <div class="video">
        <h3>Video</h3>
        <div id="epk-video"><iframe width="100%" height="240" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
      </div>
      <div class="photo">
        <h3>Photo</h3>
        <div class="ph">
          <img src="assets/img/mike-sacchetti.png?v=1" alt="Mike Sacchetti" style="width:100%;height:100%;object-fit:cover;display:block;">
        </div>
      </div>
      <div class="player">
        <h3>Latest Release</h3>
        <div id="epk-player"><iframe width="100%" height="240" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/91504634&color=%230c0c0c"></iframe></div>
      </div>
    </section>
    <section>
      <h3>Bio</h3>
      <p id="epk-bio">Short bio placeholder — 100–120 words about the artist, influences, performances, and distinctive sound. Replace with real content later.</p>
    </section>
    <section>
      <h3>Socials</h3>
      <ul style="list-style:none;padding:0;display:flex;flex-direction:column;gap:6px" id="epk-socials">
        <li><a href="#">Instagram — placeholder</a></li>
        <li><a href="#">SoundCloud — placeholder</a></li>
        <li><a href="#">Resident Advisor — placeholder</a></li>
      </ul>
    </section>
    <section>
      <h3>Riders</h3>
      <ul id="epk-riders">
        <li><a href="#">Technical Rider (PDF)</a></li>
        <li><a href="#">Hospitality Rider (PDF)</a></li>
        <li>Key requirements placeholder 1</li>
        <li>Key requirements placeholder 2</li>
      </ul>
    </section>
    <section>
      <h3>Availability</h3>
      <p id="epk-availability">Available: Jan — Berlin; Feb — Paris; Mar — Madrid (placeholder).</p>
    </section>
    <section>
      <h3>Booking</h3>
      <form action="https://formspree.io/f/your-id" method="POST">
        <input type="hidden" name="utm_source" value="site" />
        <input type="hidden" name="utm_medium" value="epk" />
        <input type="hidden" name="utm_campaign" value="artist-inquiry" />
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:680px">
          <input name="name" placeholder="Your name" required>
          <input name="email" placeholder="Your email" type="email" required>
          <input name="date" placeholder="Proposed date">
          <input name="city" placeholder="City">
          <textarea name="message" placeholder="Tell us about the event" style="grid-column:1/-1"></textarea>
        </div>
        <div style="margin-top:12px"><button class="close" type="submit">Send</button></div>
      </form>
    </section>
    <footer style="margin-top:24px;opacity:.7;font-size:12px">© Ghosting Corporation — All rights reserved.</footer>
  </article>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">EPK coming soon</div>

  <script>
    // Brand per-letter + salto a 2 líneas en móvil
    (function(){
      const el = document.getElementById('brand');
      if(!el) return;
      const isMobile = matchMedia('(max-width:900px)').matches;
      const text = isMobile ? 'GHOSTING CORP.\n AGENCY' : 'GHOSTING CORP. AGENCY';
      el.textContent = '';
      for(const ch of text){
        if(ch === '\n'){ el.appendChild(document.createElement('br')); continue; }
        if(ch === ' '){ el.appendChild(document.createTextNode(' ')); continue; }
        const s = document.createElement('span');
        s.textContent = ch;
        el.appendChild(s);
      }
      // click brand → home
      el.addEventListener('click',(e)=>{ 
        e.preventDefault(); 
        document.body.classList.remove('panel-open','epk-open'); 
        document.querySelectorAll('.panel').forEach(p=>p.hidden=true); 
        history.pushState({}, '', '/'); 
      });
    })();

    // Word-level stagger + hover
    (function(){
      const h = document.getElementById('h1');
      const band = document.querySelector('.hero-inner');
      if(!h || !band) return;
      const words = h.textContent.trim().split(' ');
      h.textContent = '';
      words.forEach((w,i)=>{
        const span = document.createElement('span');
        span.className = 'w';
        span.textContent = w;
        span.style.animationDelay = (0.15 + i*0.03).toFixed(2)+'s';
        h.appendChild(span);
        if(i < words.length-1) h.appendChild(document.createTextNode(' '));
      });
      band.addEventListener('mouseenter',()=>band.classList.add('active'));
      band.addEventListener('mouseleave',()=>band.classList.remove('active'));
    })();

    // Panels logic + history
    (function(){
      const body = document.body;
      const subnav = document.querySelector('.subnav');
      const panels = {
        artists: document.getElementById('panel-artists'),
        label: document.getElementById('panel-label'),
        contact: document.getElementById('panel-contact'),
      };
      function openPanel(key){
        body.classList.add('panel-open');
        for(const k in panels){ panels[k].hidden = k!==key; }
        history.pushState({panel:key}, '', `/${key}`);
      }
      function closePanel(){
        body.classList.remove('panel-open');
        for(const k in panels){ panels[k].hidden = true; }
        history.pushState({}, '', '/');
      }
      subnav.addEventListener('click', (e)=>{
        const a = e.target.closest('a[data-route]');
        if(!a) return;
        e.preventDefault();
        const key = a.getAttribute('data-route');
        openPanel(key);
      });
      window.addEventListener('popstate', (e)=>{
        if(!e.state || !e.state.panel) closePanel(); else openPanel(e.state.panel);
      });
      document.querySelectorAll('[data-back]').forEach(el=>{ el.addEventListener('click',(ev)=>{ ev.preventDefault(); closePanel(); }); });
    })();

    function showToast(msg='EPK coming soon'){
      const t = document.getElementById('toast');
      if(!t) return;
      t.textContent = msg;
      t.classList.add('show');
      clearTimeout(t.__timer);
      t.__timer = setTimeout(()=>t.classList.remove('show'), 1800);
    }

    // EPK overlay
    ;(function(){
      const epk = document.getElementById('epk');
      const closeBtn = document.getElementById('epk-close');
      const epkBack = document.getElementById('epk-back');
      const list = document.getElementById('panel-artists');
      const title = document.getElementById('epk-title');
      const bio = document.getElementById('epk-bio');
      const availability = document.getElementById('epk-availability');
      const riders = document.getElementById('epk-riders');
      const socialsUl = document.getElementById('epk-socials');

      const data = {
        'mike-sacchetti': {
          name: 'Mike Sacchetti',
          tagline: 'Proto House / Italo / Wave / Electro',
          bio: `Mike’s a nomad, a music producer, multi-instrumentalist and DJ. His music often fuses components of wavy melancholic sounds, arpeggiated synth basslines and powerful drum beats from disco to electro. You could say it’s difficult to narrow his style to just these elements as he can navigate through different moods and genres, depending on his source of inspiration.

          As a DJ he has performed alongside well-known names in the electronic music community, sharing lineup with artists like <b>Jennifer Cardini</b>, <b>Franz Scala</b>, <b>Curses</b>, <b>Manfredas</b>, <b>Perel</b>, <b>Optimo</b>, <b>Terr</b>, <b>Lakuti</b>, <b>Dam Swindle</b>, <b>David Vunk</b>, <b>Daniel Monaco</b>, <b>Local Suicide</b>, <b>Budino</b>, <b>Massimiliano Pagliara</b>, including international experience in <b>Spain</b>, <b>Netherlands</b>, <b>France</b>, <b>Switzerland</b> and <b>Austria</b>. 

          Nowadays based in <b>Berlin</b>, he’s a regular guest at the most known clubs in the city — <b>Sisyphos</b>, <b>Kater Blau</b>, <b>Renate</b>, etc.`,
          availability: 'Jan — Berlin; Feb — Paris; Mar — Madrid',
          riders: [
            'Technical Rider (PDF)',
            'Hospitality Rider (PDF)',
            '3x PIONEER CDJS 3000',
            'Pioneer DJ DJM-A9 / DJM-900NXS2 / E&S DJR-400',
            '2 BOOTH MONITORS L/R'
          ],
          video: 'https://www.youtube.com/embed/4ODZzhwj_LM',
          playerIframe: '<iframe width="100%" height="300" scrolling="no" frameborder="0" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/soundcloud%253Aplaylists%253A2039965386&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>',
          photo: 'assets/img/mike-sacchetti.png?v=1',
          socials: {
            instagram: 'https://www.instagram.com/mikesacchetti/',
            soundcloud: 'https://soundcloud.com/mikesacchettidj',
            ra: 'https://ra.co/dj/mikesacchetti'
          }
        }
      };

      function resetEpkToPlaceholders(){
        document.getElementById('epk-video').innerHTML =
          '<iframe width="100%" height="240" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';
        document.querySelector('.epk .photo').innerHTML =
          '<h3>Photo</h3><div class="ph"><img src="assets/img/mike-sacchetti.png?v=1" alt="Mike Sacchetti" style="width:100%;height:100%;object-fit:cover;display:block;"></div>';
        document.getElementById('epk-player').innerHTML =
          '<iframe width="100%" height="240" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/91504634&color=%230c0c0c"></iframe>';
        socialsUl.innerHTML = `
          <li><a href="#">Instagram — placeholder</a></li>
          <li><a href="#">SoundCloud — placeholder</a></li>
          <li><a href="#">Resident Advisor — placeholder</a></li>
        `;
      }

      function openEpk(key){
        const d = data[key];
        if(!d) return;

        resetEpkToPlaceholders();

        document.body.classList.add('epk-open');
        document.body.classList.remove('panel-open');
        title.textContent = `${d.name} — ${d.tagline}`;
        bio.innerHTML = d.bio;
        availability.textContent = `Available: ${d.availability}`;
        riders.innerHTML = '';
        d.riders.forEach((r,i)=>{
          const li = document.createElement('li');
          if(i<2){ const link = document.createElement('a'); link.href='#'; link.textContent=r; li.appendChild(link); }
          else { li.textContent = r; }
          riders.appendChild(li);
        });
        try{
          if (d.video) {
            document.getElementById('epk-video').innerHTML =
              `<iframe width="100%" height="240" src="${d.video}"
                 title="Video" frameborder="0"
                 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                 allowfullscreen></iframe>`;
          }
          if (d.playerIframe) {
            document.getElementById('epk-player').innerHTML = d.playerIframe;
          }
          if (d.photo) {
            const photoBlock = document.querySelector('.epk .photo');
            photoBlock.innerHTML = `<h3>Photo</h3><img src="${d.photo}" alt="${d.name}">`;
          }
          if (d.socials) {
            socialsUl.innerHTML = `
              <li><a href="${d.socials.instagram}" target="_blank" rel="noopener">Instagram</a></li>
              <li><a href="${d.socials.soundcloud}" target="_blank" rel="noopener">SoundCloud</a></li>
              <li><a href="${d.socials.ra}" target="_blank" rel="noopener">Resident Advisor</a></li>
            `;
          }
        } catch(_e){ /* noop */ }

        epk.classList.add('open');
        history.pushState({artist:key}, '', `/artists/${key}`);
      }

      function closeEpk(){ 
        epk.classList.remove('open'); 
        document.body.classList.remove('epk-open');
        history.back(); 
      }

      list.addEventListener('click',(e)=>{
        const a = e.target.closest('a[data-artist]');
        if(!a) return;
        e.preventDefault();

        const isReady = a.hasAttribute('data-ready');
        const key = a.getAttribute('data-artist');

        if(!isReady){
          showToast('EPK coming soon');
          return;
        }
        openEpk(key);
      });

      document.getElementById('epk-close').addEventListener('click', closeEpk);
      document.getElementById('epk-back').addEventListener('click',(e)=>{ e.preventDefault(); closeEpk(); });

      window.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeEpk(); });

      window.addEventListener('popstate',(e)=>{
        if(!e.state || (!e.state.artist && !e.state.panel)){
          epk.classList.remove('open'); 
          document.body.classList.remove('epk-open');
        }
      });
    })();
   
    // --- Route bootstrap (deep links) ---
    (function(){
      var path = location.pathname || '/';

      var m = path.match(/^\/artists\/([\w-]+)\/?$/);
      if(m){
        var slug = m[1];
        window.addEventListener('load', function(){
          var navArtists = document.querySelector('.subnav a[data-route="artists"]');
          if(navArtists) navArtists.click();
          setTimeout(function(){
            var link = document.querySelector('[data-artist="'+slug+'"][data-ready]');
            if(link){ link.click(); }
          }, 60);
        });
        return;
      }

      var p = path.match(/^\/(artists|label|contact)\/?$/);
      if(p){
        window.addEventListener('load', function(){
          var a = document.querySelector('.subnav a[data-route="'+p[1]+'"]');
          if(a) a.click();
        });
      }
    })();
  </script>
</body>
</html>
